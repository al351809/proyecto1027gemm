<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"> 
<head>
   <title>Gestionar mis actividades</title>
   <meta charset="UTF-8" />
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
   <link rel="stylesheet" type="text/css" href="/css/estilo.css" th:href="@{/css/estilo.css}"/>
</head>
<body>
	<div th:replace="fragmentos/navInstructor" >...</div>
    <h2>Lista de mis actividades</h2>
   
   <div th:if="${#lists.isEmpty(actividad)}">
         No hay actividades en la base de dades
    </div>
    <ul class="nav nav-tabs">
  	<li class="nav-item">
    	<a class="nav-link" style="color:black;" href="/actividad/listarActividades">Actividades</a>
  	</li>
  	<li class="nav-item">
   		<a class="nav-link active" style="color:black;" href="/actividad/listarActividadesInstructor">Mis Actividades</a>
  	</li>
	</ul>
   <div>
	   <table  th:unless="${#lists.isEmpty(actividad)}" class="table table-striped">
	     <thead>
	       <tr>
	         <th>Nombre</th>
	         <th>DNI</th>
	         <th>Descripcion</th>
	         <th>Duracion</th>
	         <th>Fecha</th>
	         <th>Precio</th>
	         <th>Min.Personas</th>
	         <th>Max.Personas</th>
	         <th>Lugar</th>
	         <th>Punto de Encuentro</th>
	         <th>Texto cliente</th>
	         <th>Tipo</th>
	         <th>Estado</th>
	       </tr>
	     </thead>
	     <tbody>
	       <tr th:each="actividad: ${actividad}"> 
	         <td th:text="${actividad.nombre}"></td> 
	         <td th:text="${actividad.dni}"></td> 
	         <td th:text="${actividad.descripcion}"></td>
	         <td th:text="${actividad.duracion}"></td>
	         <td th:text="${actividad.fecha}"></td>
	         <td th:text="${actividad.precio}"></td>
	         <td th:text="${actividad.minPersonas}"></td>
	         <td th:text="${actividad.maxPersonas}"></td>
	         <td th:text="${actividad.lugar}"></td>
	         <td th:text="${actividad.puntoEncuentro}"></td>
	         <td th:text="${actividad.textoCliente}"></td>
	         <td th:text="${actividad.tipo}"></td>
	         <td th:text="${actividad.estado}"></td>
	         <td><a th:href="@{/actividad/update/{nombre}(nombre=${actividad.nombre})}" class="btn btn-warning btn-sm" role="button">Edita</a> 
	         </td>
	         <td><button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#myModal" th:attr="data-target='#myModal'+${actividad.nombre}">Borrar</button>
	         </td>
	         <td><a th:href="@{/reserva/reservasActividadInstructor/{nombre}(nombre=${actividad.nombre})}" class="btn btn-warning btn-sm" role="button">Reservas</a>
	         </td>
	         
	          <!-- The Modal -->
		  <div class="modal" th:id="myModal+${actividad.nombre }">
		    <div class="modal-dialog">
		      <div class="modal-content">
		      
		        <!-- Modal Header -->
		        <div class="modal-header">
		          <h4 class="modal-title">Borrar Actividad</h4>
		          <button type="button" class="close" data-dismiss="modal">&times;</button>
		        </div>
		        
		        <!-- Modal body -->		        
		        <div class="modal-body">
		          CUIDADO! Se va a BORRAR la actividad:<b><span th:text="${actividad.nombre}"></span></b>. Estas seguro que quieres hacerlo?
		        </div>
		        
		        <!-- Modal footer -->
		        <div class="modal-footer">
		          <a th:href="@{/actividad/delete/{nombre}(nombre=${actividad.nombre})}" class="btn btn-danger btn-sm" role="button">Borrar</a>
		          <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cancelar</button>
		        </div>
		      </div>
		    </div>
		  </div>  
	         
	         
	         
	         
	         
	         
	         
	         
	         
	         
	         
	         
	         
	       </tr>
	     </tbody>
	   </table>
   </div>
   <a href="add" class="btn btn-primary" role="button">Agregar Actividad</a> 
   <a href="/paginaprincipal" class="btn btn-primary" role="button">√çndice</a>
   

   
   
   
   
</body>
</html>